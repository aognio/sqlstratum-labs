{% extends "base.html" %}
{% block title %}{% if mode == 'edit' %}Edit Event{% else %}New Event{% endif %} Â· BookingLab{% endblock %}
{% block content %}
<h1 class="text-xl font-semibold mb-4">{% if mode == 'edit' %}Edit Event{% else %}New Event{% endif %}</h1>

{% if error %}
  <div class="bg-red-50 text-red-700 text-sm border border-red-200 rounded-md p-3 mb-4">{{ error }}</div>
{% endif %}

<form method="post" class="bg-white border rounded-lg p-6 space-y-4">
  <div>
    <label class="text-xs uppercase tracking-wide text-slate-500">Title</label>
    <input name="title" value="{{ form_data.title if form_data else '' }}" class="mt-1 w-full border rounded-md px-3 py-2" required />
  </div>
  <div>
    <label class="text-xs uppercase tracking-wide text-slate-500">Slug</label>
    <input name="slug" value="{{ form_data.slug if form_data else '' }}" class="mt-1 w-full border rounded-md px-3 py-2" />
  </div>
  <div>
    <label class="text-xs uppercase tracking-wide text-slate-500">Description</label>
    <textarea name="description" class="mt-1 w-full border rounded-md px-3 py-2" rows="4">{{ form_data.description if form_data else '' }}</textarea>
  </div>
  <div>
    <label class="text-xs uppercase tracking-wide text-slate-500">Location</label>
    <input name="location" value="{{ form_data.location if form_data else '' }}" class="mt-1 w-full border rounded-md px-3 py-2" />
  </div>
  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label class="text-xs uppercase tracking-wide text-slate-500">Starts at</label>
      <input name="starts_at" type="datetime-local" value="{{ form_data.starts_at if form_data else '' }}" class="mt-1 w-full border rounded-md px-3 py-2" required />
    </div>
    <div>
      <label class="text-xs uppercase tracking-wide text-slate-500">Ends at</label>
      <input name="ends_at" type="datetime-local" value="{{ form_data.ends_at if form_data else '' }}" class="mt-1 w-full border rounded-md px-3 py-2" required />
    </div>
  </div>
  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label class="text-xs uppercase tracking-wide text-slate-500">Capacity</label>
      <input name="capacity" type="number" min="1" value="{{ form_data.capacity if form_data else 1 }}" class="mt-1 w-full border rounded-md px-3 py-2" required />
    </div>
    <div>
      <label class="text-xs uppercase tracking-wide text-slate-500">Price (cents)</label>
      <input name="price_cents" type="number" min="0" value="{{ form_data.price_cents if form_data else 0 }}" class="mt-1 w-full border rounded-md px-3 py-2" required />
    </div>
  </div>
  <button class="bg-slate-900 text-white rounded-md px-4 py-2 hover:bg-slate-800">Save event</button>
</form>
{% endblock %}
